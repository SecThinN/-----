测试驱动的开发模式（TDD）
========================
#引子#
先零零碎碎的说一下。
原先对什么什么驱动的模式有些模糊，认为那些都属于概念炒作。其实炒作这些概念的人真的是如此认为的。
什么驱动决定着项目推进过程中的主导因素，也决定了代码的风格。
风格决定着开发人员的交流习惯，缺少这种交流的习惯，开发人员是会天天打架的。
单元测试是对自己负责，更是对团队负责的基本态度。
测试驱动（TDD）不一定要形式化为 先写测试在写实现，那是一种非常理想的状态，也可以实现一个类再去写测试，但是构思的过程中时刻考虑着单元测试的需求。
#1、从代码风格说起#
从VB（不是VB.Net，那个时代还有一个奇迹就是 Power Builder）盛行开始，窗体就是代码的全部。初学者常常习惯把所有代码都放到窗体事件中，能够写几个类的就算是高手了。当时几乎所有的教程都是这样叫人写程序的，从Hello World 开始就如此。
那么这种风格也是一种风格，即界面驱动的开发方式，这样做非常符合人的直觉。
既然是界面驱动，那么测试手段就是把界面上所有的功能都用鼠标点一遍，出了错误再单步调试。
好了，问题出来了，在稍微复杂一些的应用中，测试环节是最低效的环节，还会引发开发部门和测试部门的矛盾。
其实开发人员也没有什么底气，不敢说代码一点问题也没有，只是强调要如何如何使用才是正确的。
这样的代码风格当然无从说起，非常凌乱，由于业务封装需要很强大的开发，所以通常会交给专门的团队开发，封装好了再给项目用，当时最盛行的是各种控件，而且控件越来越复杂。

还好，软件行业还是在一直进步的，而且一直自己要求进步。
MVC 来了（我第一次认识MVC是从Java的界面设计开始的，大约是1997年），所有程序都可以如是进行拆解，结构精巧而且清晰。
设计模式中不认为MVC是一种设计模式，认为MVC是一种代码组织方式，不限于OO设计，可以适用于多种层次。
MVC带来的好处是，可以独立开发控制功能和数据模型，甚至没有界面的时候就可以独立运行和测试Model和Control 的组合功能。
虽然MVC对领域模型的解构直接带来的好处就是把业务模型从界面逻辑中拆分处理，使每个部分可以单独存在，但是并没有针对单元测试进行的优化。

开发模式前进的动力来自组织内的分工，精细化的分工要求知识和业务相对完整和独立，无限细分不一定带来生产力的提高，反而增加了沟通成本和形成复杂冗余的设计。


> Written with [StackEdit](https://stackedit.io/).